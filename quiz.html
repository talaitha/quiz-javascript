
<!doctype html>
<html>
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
	</head>
	<body>
	<button id="encryptBtn">Click to Toggle</button>
<p class="message">Use jQuery to unscramble this message. Then, write function that made it. The answer will be an object that can scramble and unscramble any text any number of times.</p>
	</body>

		<script>
	// create global "encrypt" object to be called
window.Encrypt = {
  scramble : function(selector) {
  	//cache all the vars
    var elem = $(selector), message = elem.text(), i, html = '';
	random_character = function() {
		// create random character for "encoding" the message
	    var chars = "0123456789abcdefghijklmnopqurstuvwxyzABCDEFGHIJKLMNOPQURSTUVWXYZ";
	    return chars.substr( Math.floor(Math.random() * 62), 1);
	}
    for(i = 0; i < message.length; i++) {
    	// for each letter in the message, hide the message and spit out intermediate random characters
      html += '<span hidden>'+message[i]+'</span><span>'+random_character()+'</span>';
      // create break tags to format better
      if (i%60===0 && i !== 0) {
      	html += '<br>';
      };
    }
    // place the generated html back
    elem.html(html);
  },
  unscramble : function(selector) {
    var elem = $(selector);
    // show the message from the hidden spans
    elem.html(elem.find('span').filter('[hidden]').text());
  }
};
// on click handler to encrypt / decrypt
$('#encryptBtn').on('click', function(event) {
	event.preventDefault();
	if (!$(this).hasClass('toggled')) {
		Encrypt.scramble(".message");
		$(this).addClass('toggled');
	} else {
		Encrypt.unscramble(".message");
		$(this).removeClass('toggled');
	}
});
		</script>
</html>